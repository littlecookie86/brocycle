<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>BroCycle - Cycle Phases</title>
  <style>
    body {
      background-color: #001f3f;
      color: white;
      font-family: Arial, sans-serif;
      padding: 20px;
    }
    h1 {
      color: #7FDBFF;
    }
    .phase {
      background-color: #003366;
      padding: 15px;
      margin: 10px 0;
      border-radius: 8px;
    }
    canvas {
      background-color: white;
      margin-top: 20px;
      border-radius: 10px;
      max-width: 100%;
    }
    a {
      color: #7FDBFF;
      text-decoration: underline;
      display: inline-block;
      margin-top: 20px;
    }
  </style>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <h1>Cycle Phases Explained</h1>
  <p id="summary">Here's a quick guide so you know what's going on during the cycle. It's science, bro.</p>

  <div class="phase" id="phase1"></div>
  <div class="phase" id="phase2"></div>
  <div class="phase" id="phase3"></div>
  <div class="phase" id="phase4"></div>

  <canvas id="cycleChart" width="400" height="150"></canvas>

  <a href="index.html">← Back to Tracker</a>

  <script>
    const params = new URLSearchParams(window.location.search);
    const length = parseInt(params.get("length")) || 28;

    const ovulationDay = Math.round(length * 0.5);
    const lutealStart = ovulationDay + 1;
    const lutealLength = length - lutealStart + 1;

    document.getElementById("phase1").innerHTML = `
      <strong>1. Menstrual Phase (Days 1–5):</strong><br>
      Period starts. Hormones are low. She might feel tired, sore, or cranky. Be chill.`;

    document.getElementById("phase2").innerHTML = `
      <strong>2. Follicular Phase (Days 1–${ovulationDay - 1}):</strong><br>
      Body starts preparing for ovulation. Energy and mood often improve. Good time for plans.`;

    document.getElementById("phase3").innerHTML = `
      <strong>3. Ovulation (Day ${ovulationDay}):</strong><br>
      Estrogen peaks. She might feel her best here. Flirty, fun, confident. Peak time.`;

    document.getElementById("phase4").innerHTML = `
      <strong>4. Luteal Phase (Days ${lutealStart}–${length}):</strong><br>
      Progesterone rises. PMS may kick in. Cramps, cravings, and emotional waves possible.`;

    const ctx = document.getElementById('cycleChart').getContext('2d');
    const chart = new Chart(ctx, {
      type: 'bar',
      data: {
        labels: ['Menstrual', 'Follicular', 'Ovulation', 'Luteal'],
        datasets: [{
          label: 'Phase Duration (days)',
          data: [5, ovulationDay - 5, 1, lutealLength],
          backgroundColor: ['#FF4136', '#0074D9', '#2ECC40', '#FF851B']
        }]
      },
      options: {
        plugins: {
          legend: { labels: { color: 'black' } }
        },
        scales: {
          x: {
            ticks: { color: 'black' },
            grid: { color: '#ccc' }
          },
          y: {
            beginAtZero: true,
            ticks: { color: 'black' },
            grid: { color: '#ccc' }
          }
        }
      }
    });
  </script>
</body>
</html>

